import{m as h,e as P,j as g,k as o,s as y}from"./app.1b82e779.js";import{d,c as M}from"./resolveTime.439cd54d.js";const v=e=>e.sort((t,r)=>M(t,r)),x=e=>{const t={},r=[];for(const a of e){const s=d(a.frontmatter.date,"year");t[s]?t[s].push(a):t[s]=[a]}for(const a in t){const s=t[a];v(s),r.unshift({year:a,data:s})}return r},N=(e,t)=>t===""?e:e.filter((r,a)=>r.frontmatter.tags.includes(t));async function k(){return(await y()).filter(t=>t.frontmatter.layout==="Post"&&!t.frontmatter.hide)}const B=e=>{const t=v(e);return t.map((r,a)=>{const s=r;return s.next=a>0?{title:t[a-1].title,link:t[a-1].path}:null,s.prev=a<t.length-1?{title:t[a+1].title,link:t[a+1].path}:null,s})},R=e=>{const t=h([]),r=P(),a=g();k().then(n=>t.value=B(n));const s=o(()=>r.value.postNumPerPage),l=o(()=>Math.max(1,Math.ceil(t.value.length/s.value))),u=o(()=>e?Math.max(1,Math.min(e.value,l.value)):-1),c=o(()=>t.value.findIndex(n=>n.path===a.currentRoute.value.path)),i=o(()=>c.value===-1?null:t.value[c.value]),f=o(()=>{if(t.value.length===0||u.value===-1)return t.value;const n=(u.value-1)*s.value;return t.value.slice(n,Math.min(n+s.value,t.value.length))}),m=o(()=>{if(!e)return{};const n=u.value>1?Math.min(e.value,l.value)-1===1?"/":`/page/${e.value-1}`:null,p=u.value<l.value?`/page/${e.value+1}`:null;return{next:n,prev:p}});return{posts:t,postIndex:c,post:i,slicedPosts:f,pagerLink:m}};export{N as f,x as g,R as u};
